<!-- _combatTab.html -->
<div class="tab-pane fade" id="combat" role="tabpanel" aria-labelledby="combat-tab"
     th:fragment="combatTab">
  <div class="card combat-container">
    <div class="card-body">
      <h5 class="card-title text-center">DaisyQuest World Map</h5>

      <div id="combatArea" style="display: none;">
        <div class="turn-indicator" id="turnIndicator"></div>
        <div class="row" id="playerCards"></div>
        <div class="row mt-4">
          <div class="col-md-6">
            <div id="actionButtons" class="d-flex justify-content-around">
              <button class="btn btn-primary action-button" onclick="performAction('ATTACK')">
                Attack
              </button>
              <button class="btn btn-primary action-button" onclick="performAction('SPECIAL_ATTACK')">
                Special Attack
              </button>
              <button class="btn btn-primary action-button" onclick="performAction('SPELL')">
                Spell
              </button>
              <button class="btn btn-primary action-button" onclick="performAction('TACTICS')">
                Tactics
              </button>
            </div>
            <div id="spellSelection" class="mt-3" style="display: none;">
              <select id="spellSelect" class="form-select mb-2"
                      onchange="handleSpellSelection()"></select>
              <div id="spellInfo" class="card">
                <div class="card-body">
                  <h5 class="card-title" id="spellInfoName"></h5>
                  <p class="card-text" id="spellInfoDescription"></p>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item" id="spellInfoManaCost"></li>
                    <li class="list-group-item" id="spellInfoCooldown"></li>
                  </ul>
                </div>
              </div>
            </div>
            <div id="targetSelection" class="mt-3" style="display: none;">
              <select id="targetSelect" class="form-select mb-2"></select>
              <button class="btn btn-primary w-100" onclick="confirmAction()">Confirm Action</button>
            </div>
          </div>
          <div class="col-md-6">
            <div class="combat-log" id="combatLog"></div>
          </div>
        </div>
      </div>

      <!-- Combat Results -->
      <div id="combatResults" style="display: none;">
        <h6>Combat Results</h6>
        <div id="resultsInfo"></div>
        <button class="btn btn-primary" onclick="returnToLobby()">Return to Lobby</button>
      </div>
    </div>
  </div>
</div>
