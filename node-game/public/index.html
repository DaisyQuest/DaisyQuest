<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DaisyQuest: Ember Duel</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app-shell">
      <div class="app-layer app-layer--background" aria-hidden="true"></div>
      <div class="app-layer app-layer--canvas">
        <main class="app" id="app-canvas">
          <section
            class="panel panel--viewport map-panel is-active"
            id="tab-panel-map"
            data-tab-panel="map"
            role="tabpanel"
            aria-labelledby="tab-button-map"
          >
            <header class="panel-header">
              <div>
                <h2>World Command View</h2>
                <p class="subtitle">
                  Navigate the realm, coordinate combat, and manage encounters from one screen.
                </p>
              </div>
              <div class="map-status">
                <span class="badge">Map-First</span>
              </div>
            </header>
            <div class="map-game-layout">
              <div class="map-game-main">
                <div class="world-panel" id="world-panel">
                  <header class="world-panel__header">
                    <div>
                      <h3>World Map</h3>
                      <p class="subtitle">
                        Right-click to inspect, trade, or interact with nearby entities.
                      </p>
                    </div>
                    <div class="world-panel__status" data-world-map-hud>
                      <span class="world-panel__status-label">Travel Mode</span>
                      <span class="world-panel__status-detail" data-world-map-hint>
                        Click a tile to move • Right-click for actions
                      </span>
                    </div>
                  </header>
                  <div class="world-panel__surface" data-world-map-surface>
                    <div class="world-panel__hud" aria-hidden="true">
                      <div class="world-panel__compass">N</div>
                      <div class="world-panel__coordinates" data-world-map-coordinates>
                        Coordinates: --, --
                      </div>
                      <div class="world-panel__region" data-world-map-region>Region: --</div>
                    </div>
                    <div class="world-panel__entities" data-world-map-entities></div>
                  </div>
                </div>
                <div class="map-utility-row">
                  <div class="minimap-panel" id="minimap-panel">
                    <div class="minimap-panel__header">
                      <span>Realm Minimap</span>
                      <button
                        class="secondary minimap-toggle"
                        id="minimap-toggle"
                        type="button"
                        aria-pressed="true"
                      >
                        Hide
                      </button>
                    </div>
                    <canvas id="minimap-canvas" width="180" height="180"></canvas>
                    <div class="minimap-legend" id="minimap-legend"></div>
                  </div>
                  <section class="subpanel interaction-panel" id="interaction-panel">
                    <header class="panel-header">
                      <div>
                        <h3>Interaction Focus</h3>
                        <p class="subtitle">Select a target on the map to reveal actions.</p>
                      </div>
                      <span class="badge">Contextual</span>
                    </header>
                    <div class="interaction-details" id="interaction-details">
                      <p class="caption">No target selected. Highlight a player, NPC, or object.</p>
                      <ul class="interaction-list">
                        <li><strong>Mode:</strong> Travel</li>
                        <li><strong>Engage:</strong> Select a hostile target, then choose Engage.</li>
                        <li><strong>Interact:</strong> Gather, trade, or speak when in range.</li>
                      </ul>
                    </div>
                    <div class="interaction-actions">
                      <button class="secondary" id="interaction-engage" type="button" disabled>
                        Engage
                      </button>
                      <button class="secondary" id="interaction-interact" type="button" disabled>
                        Interact
                      </button>
                    </div>
                  </section>
                </div>
              </div>
              <aside class="map-game-side">
                <section class="subpanel progression-panel">
                  <header class="panel-header">
                    <div>
                      <h3>Reward Track</h3>
                      <p class="subtitle">Fuel your rise with every victory and crafted upgrade.</p>
                    </div>
                    <span class="badge badge-accent" id="progress-level-badge">Level 1</span>
                  </header>
                  <div class="reward-track">
                    <div class="track-card">
                      <div class="track-header">
                        <div>
                          <h4>Battle Mastery</h4>
                          <p class="caption">Earn XP for victories, crafting, and upgrades.</p>
                        </div>
                        <span class="badge" id="progress-xp-label">0 XP</span>
                      </div>
                      <div class="progress-track">
                        <div class="progress-fill" id="progress-fill"></div>
                      </div>
                      <div class="track-meta">
                        <span id="progress-current">0 / 120 XP</span>
                        <span id="progress-next">Next reward at Level 2</span>
                      </div>
                    </div>
                    <div class="reward-card" id="reward-card">
                      <h4>Next Reward</h4>
                      <p id="reward-description">Win a duel to reveal your next blessing.</p>
                      <button class="action" id="claim-reward" type="button" disabled>
                        Claim Reward
                      </button>
                    </div>
                  </div>
                  <ul class="milestone-list" id="milestone-list"></ul>
                </section>
              </aside>
            </div>
          </section>
          <section
            class="panel panel--viewport combat tab-overlay combat-panel"
            id="tab-panel-combat"
            data-tab-panel="combat"
            role="tabpanel"
            aria-labelledby="tab-button-combat"
            hidden
          >
            <header class="panel-header">
              <div>
                <h2>Combat Command Deck</h2>
                <p class="subtitle">Engage encounters from a dedicated tactical view.</p>
              </div>
              <div class="map-status">
                <span class="badge badge-accent">Combat Only</span>
              </div>
            </header>
            <section class="combat-dock" data-combat-dock aria-label="Combat control deck">
              <div
                class="combat-context-menu-anchor"
                id="combat-context-menu-anchor"
                aria-live="polite"
              ></div>
              <div class="battle-stage battle-stage--compact" data-battle-stage>
                <div class="battle-scene game-world-panel" id="battle-scene" data-game-world-panel>
                  <div
                    class="game-world-layer-stack"
                    id="game-world-layer-stack"
                    aria-hidden="true"
                  ></div>
                  <div class="battle-scene__parallax" aria-hidden="true">
                    <div class="parallax-layer layer-distant"></div>
                    <div class="parallax-layer layer-mid"></div>
                    <div class="parallax-layer layer-near"></div>
                  </div>
                  <div class="battle-scene__ambient" aria-hidden="true"></div>
                  <div class="battle-scene__baseline" aria-hidden="true"></div>
                  <div class="battle-scene__relic" aria-hidden="true">
                    Ember Relic • Charged
                  </div>
                  <div class="battle-stage__effects" data-battle-effects aria-hidden="true">
                    <div class="effect-bounds" data-role="player"></div>
                    <div class="effect-bounds" data-role="enemy"></div>
                  </div>
                  <div class="caption-zone" data-zone="player"></div>
                  <div class="caption-zone" data-zone="enemy"></div>
                  <div
                    class="battle-combatant battle-combatant--player"
                    data-battle-combatant="player"
                  >
                    <div class="battle-sprite-frame">
                      <img
                        class="battle-sprite"
                        data-battle-sprite="player"
                        src="assets/battle/player.png"
                        alt="Player combatant"
                      />
                    </div>
                    <div class="battle-banner battle-banner--player">
                      <span class="battle-banner__name">Daisy</span>
                      <span class="battle-banner__stats">HP 120 • MP 38</span>
                    </div>
                  </div>
                  <div
                    class="battle-combatant battle-combatant--enemy"
                    data-battle-combatant="enemy"
                  >
                    <div class="battle-sprite-frame">
                      <img
                        class="battle-sprite"
                        data-battle-sprite="enemy"
                        src="assets/battle/enemy.png"
                        alt="Enemy combatant"
                      />
                    </div>
                    <div class="battle-banner battle-banner--enemy">
                      <span class="battle-banner__name">Shadeborne</span>
                      <span class="battle-banner__stats">HP 98 • MP 42</span>
                    </div>
                  </div>
                </div>
              </div>
              <section class="combat-hud combat-hud--compact">
                <header class="combat-hud__header">
                  <div class="combat-hud__intro">
                    <h1>Combat Overview</h1>
                    <p class="subtitle">
                      Monitor the battle, select actions, and track incoming effects.
                    </p>
                  </div>
                  <div class="combat-hud__selectors">
                    <div class="selector">
                      <label for="combat-stance">Stance</label>
                      <select id="combat-stance">
                        <option>Balanced</option>
                        <option>Aggressive</option>
                        <option>Defensive</option>
                      </select>
                    </div>
                    <div class="selector">
                      <label for="combat-focus">Focus</label>
                      <select id="combat-focus">
                        <option>Frontline</option>
                        <option>Support</option>
                        <option>Arcane</option>
                      </select>
                    </div>
                  </div>
                </header>
                <div class="combat-hud__body">
                  <section class="combat-readouts">
                    <h2 class="panel-title">Battle Readouts</h2>
                    <div class="readout-grid">
                      <div class="readout-card">
                        <span class="readout-label">Phase</span>
                        <span class="readout-value">Ember Clash</span>
                      </div>
                      <div class="readout-card">
                        <span class="readout-label">Threat</span>
                        <span class="readout-value">Moderate</span>
                      </div>
                      <div class="readout-card">
                        <span class="readout-label">Allies</span>
                        <span class="readout-value">3 Nearby</span>
                      </div>
                      <div class="readout-card">
                        <span class="readout-label">Cooldowns</span>
                        <span class="readout-value">2 Ready</span>
                      </div>
                    </div>
                    <div class="meter-panel">
                      <div class="meter-row">
                        <span class="meter-label">Momentum</span>
                        <div class="meter-bar">
                          <span class="meter-fill" id="momentum-meter"></span>
                        </div>
                      </div>
                      <div class="meter-row">
                        <span class="meter-label">Guard</span>
                        <div class="meter-bar">
                          <span class="meter-fill" id="guard-meter"></span>
                        </div>
                      </div>
                    </div>
                  </section>
                  <section class="combat-actions-panel">
                  <div class="combat-action-group">
                    <h2 class="panel-title">Primary Actions</h2>
                    <div class="combat-action-grid" id="weapon-attack-list"></div>
                  </div>
                  <div class="combat-utility">
                    <h2 class="panel-title">Utility</h2>
                    <div class="combat-action-grid" id="skill-list"></div>
                  </div>
                </section>
                  <section class="combat-library">
                    <div class="combat-library__header">
                      <h2 class="panel-title">Spellbook</h2>
                      <span class="badge">Arcane Focus</span>
                    </div>
                  <div class="spellbook-list" id="spellbook-list" data-spellbook="spells"></div>
                  <div class="spellbook-list" id="skillbook-list" data-spellbook="skills"></div>
                  </section>
                </div>
                <div class="combat-actions-panel combat-actions-panel--footer">
                  <div class="combat-action-group">
                    <h2 class="panel-title">Quickbar</h2>
                    <div class="hotbar" id="hotbar-slots" role="list"></div>
                  </div>
                </div>
              </section>
            </section>
          </section>
          <section
            class="panel panel--viewport tab-overlay"
            id="tab-panel-inventory"
            data-tab-panel="inventory"
            role="tabpanel"
            aria-labelledby="tab-button-inventory"
            hidden
          >
            <header class="panel-header">
              <div>
                <h2>Inventory Cache</h2>
                <p class="subtitle">Organize gear, equip artifacts, and manage supplies.</p>
              </div>
              <span class="badge badge-accent">Vaulted</span>
            </header>
            <div class="inventory-grid">
              <section class="inventory-panel" aria-label="Inventory">
                <div class="inventory-panel__header">
                  <h3>Inventory</h3>
                  <span class="badge">24 / 30</span>
                </div>
                <ul class="inventory-list" id="inventory-list"></ul>
              </section>
              <section class="equipment-panel" aria-label="Equipped items">
                <div class="equipment-panel__header">
                  <h3>Equipped</h3>
                  <span class="badge">Gear Slots</span>
                </div>
                <div class="equipment-grid" id="equipment-grid"></div>
              </section>
            </div>
          </section>
          <section
            class="panel panel--viewport tab-overlay"
            id="tab-panel-crafting"
            data-tab-panel="crafting"
            role="tabpanel"
            aria-labelledby="tab-button-crafting"
            hidden
          >
            <header class="panel-header">
              <div>
                <h2>Crafting Bay</h2>
                <p class="subtitle">Forge new relics and upgrade battlefield equipment.</p>
              </div>
              <span class="badge">Workshop</span>
            </header>
            <div class="crafting-layout">
              <section class="subpanel crafting-panel">
                <header class="panel-header">
                  <div>
                    <h3>Recipe Library</h3>
                    <p class="subtitle">Select a recipe to craft upgrades.</p>
                  </div>
                  <span class="badge badge-accent">Tier 1</span>
                </header>
                <div class="crafting-list" id="crafting-list"></div>
              </section>
              <section class="subpanel crafting-panel">
                <header class="panel-header">
                  <div>
                    <h3>Selected Recipe</h3>
                    <p class="subtitle">Review ingredients and initiate crafting.</p>
                  </div>
                </header>
                <div class="crafting-summary" id="crafting-summary">
                  <p class="caption">Choose a recipe to begin.</p>
                </div>
                <button class="action" id="craft-item" type="button" disabled>
                  Craft Item
                </button>
              </section>
            </div>
          </section>
          <section
            class="panel panel--viewport tab-overlay"
            id="tab-panel-trading"
            data-tab-panel="trading"
            role="tabpanel"
            aria-labelledby="tab-button-trading"
            hidden
          >
            <header class="panel-header">
              <div>
                <h2>Trading Hub</h2>
                <p class="subtitle">Coordinate exchanges and secure new alliances.</p>
              </div>
              <span class="badge">Negotiation</span>
            </header>
            <section class="subpanel trade-panel">
              <header class="panel-header">
                <div>
                  <h3>Open Exchange</h3>
                  <p class="subtitle">Invite a player to open a trade.</p>
                </div>
                <span class="badge badge-accent">Awaiting</span>
              </header>
              <div class="trade-controls">
                <label for="trade-target">Player Name</label>
                <input id="trade-target" type="text" placeholder="Enter player name" />
                <button class="action" id="trade-invite" type="button" disabled>
                  Send Invite
                </button>
              </div>
              <div class="trade-status" id="trade-status">
                <p class="caption">No active trade. Invite a player to begin.</p>
              </div>
            </section>
          </section>
          <section
            class="panel panel--viewport tab-overlay"
            id="tab-panel-registry"
            data-tab-panel="registry"
            role="tabpanel"
            aria-labelledby="tab-button-registry"
            hidden
          >
            <header class="panel-header">
              <div>
                <h2>Registry Terminal</h2>
                <p class="subtitle">Edit spells, items, and NPC rosters for the realm.</p>
              </div>
              <span class="badge">Admin</span>
            </header>
            <div class="registry-layout">
              <section class="subpanel registry-panel">
                <header class="panel-header">
                  <div>
                    <h3>Spell Registry</h3>
                    <p class="subtitle">Update damage, mana, and cooldown values.</p>
                  </div>
                </header>
                <div class="registry-grid" id="spell-registry"></div>
              </section>
              <section class="subpanel registry-panel">
                <header class="panel-header">
                  <div>
                    <h3>NPC Registry</h3>
                    <p class="subtitle">Manage realm inhabitants and encounter roles.</p>
                  </div>
                </header>
                <div class="registry-grid" id="npc-registry"></div>
              </section>
            </div>
          </section>
        </main>
      </div>
      <div class="app-layer app-layer--overlay">
        <section class="panel auth-panel">
          <header class="panel-header">
            <div>
              <h2>Command Station</h2>
              <p class="subtitle">Secure your account before stepping into the realm.</p>
            </div>
            <div class="auth-status">
              <span id="auth-status">Offline</span>
              <button class="secondary" id="logout-button" type="button" disabled>Logout</button>
            </div>
          </header>
          <form id="auth-form" class="auth-form">
            <label for="auth-username">Username</label>
            <input id="auth-username" name="username" type="text" autocomplete="username" required />
            <label for="auth-password">Password</label>
            <input
              id="auth-password"
              name="password"
              type="password"
              autocomplete="current-password"
              required
            />
            <div class="auth-actions">
              <button class="action" type="submit" data-mode="login">Login</button>
              <button class="secondary" type="submit" data-mode="register">Create Account</button>
            </div>
            <p class="form-message" id="auth-message"></p>
          </form>
        </section>
        <nav class="layout-tabs" aria-label="Primary navigation" role="tablist">
          <button
            class="layout-tab-button is-active"
            id="tab-button-map"
            type="button"
            data-tab-target="map"
            role="tab"
            aria-controls="tab-panel-map"
            aria-selected="true"
          >
            Map
          </button>
          <button
            class="layout-tab-button"
            id="tab-button-combat"
            type="button"
            data-tab-target="combat"
            role="tab"
            aria-controls="tab-panel-combat"
            aria-selected="false"
          >
            Combat
          </button>
          <button
            class="layout-tab-button"
            id="tab-button-inventory"
            type="button"
            data-tab-target="inventory"
            role="tab"
            aria-controls="tab-panel-inventory"
            aria-selected="false"
          >
            Inventory
          </button>
          <button
            class="layout-tab-button"
            id="tab-button-crafting"
            type="button"
            data-tab-target="crafting"
            role="tab"
            aria-controls="tab-panel-crafting"
            aria-selected="false"
          >
            Crafting
          </button>
          <button
            class="layout-tab-button"
            id="tab-button-trading"
            type="button"
            data-tab-target="trading"
            role="tab"
            aria-controls="tab-panel-trading"
            aria-selected="false"
          >
            Trading
          </button>
          <button
            class="layout-tab-button"
            id="tab-button-registry"
            type="button"
            data-tab-target="registry"
            role="tab"
            aria-controls="tab-panel-registry"
            aria-selected="false"
          >
            Registry
          </button>
        </nav>
        <section class="subpanel chat-panel chat-panel--floating">
          <header class="panel-header">
            <div>
              <h3>Chat & Field Reports</h3>
              <p class="subtitle">Party chatter and system updates stay visible.</p>
            </div>
            <div class="chat-tabs" role="tablist" aria-label="Chat channels">
              <button class="chat-tab-button is-active" type="button" role="tab">Local</button>
              <button class="chat-tab-button" type="button" role="tab">Party</button>
              <button class="chat-tab-button" type="button" role="tab">Guild</button>
              <button class="chat-tab-button" type="button" role="tab">System</button>
            </div>
          </header>
          <div class="chat-feed">
            <ul id="log"></ul>
          </div>
          <div class="chat-input">
            <input
              id="chat-input"
              type="text"
              placeholder="Type a message..."
              aria-label="Chat message"
            />
            <button class="secondary" type="button" disabled>Send</button>
          </div>
        </section>
      </div>
      <header class="command-bar wrapper-layer" role="banner">
        <div class="command-bar__brand">
          <span class="command-eyebrow">DaisyQuest</span>
          <div class="command-title">Emberfall Command Deck</div>
          <span class="command-subtitle">Real-time MMORPG operations console</span>
        </div>
        <div class="command-bar__status" aria-label="Realm status">
          <div class="status-pill">
            <span class="status-pill__label">Realm</span>
            <span class="status-pill__value">Aetheria</span>
          </div>
          <div class="status-pill">
            <span class="status-pill__label">Shard</span>
            <span class="status-pill__value">Northwatch</span>
          </div>
          <div class="status-pill status-pill--accent">
            <span class="status-pill__label">Population</span>
            <span class="status-pill__value">Stable</span>
          </div>
        </div>
      </header>
    </div>
  </body>
</html>
