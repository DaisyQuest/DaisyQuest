<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DaisyQuest: Ember Duel</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <main class="app">
      <section class="panel auth-panel">
        <header class="panel-header">
          <div>
            <h2>Command Station</h2>
            <p class="subtitle">Secure your account before stepping into the realm.</p>
          </div>
          <div class="auth-status">
            <span id="auth-status">Offline</span>
            <button class="secondary" id="logout-button" type="button" disabled>Logout</button>
          </div>
        </header>
        <form id="auth-form" class="auth-form">
          <label for="auth-username">Username</label>
          <input id="auth-username" name="username" type="text" autocomplete="username" required />
          <label for="auth-password">Password</label>
          <input
            id="auth-password"
            name="password"
            type="password"
            autocomplete="current-password"
            required
          />
          <div class="auth-actions">
            <button class="action" type="submit" data-mode="login">Login</button>
            <button class="secondary" type="submit" data-mode="register">Create Account</button>
          </div>
          <p class="form-message" id="auth-message"></p>
        </form>
      </section>
      <nav class="layout-tabs" aria-label="Primary navigation">
        <button class="layout-tab-button is-active" type="button" data-tab-target="battle">
          Battle
        </button>
        <button class="layout-tab-button" type="button" data-tab-target="inventory">
          Inventory
        </button>
        <button class="layout-tab-button" type="button" data-tab-target="crafting">
          Crafting
        </button>
        <button class="layout-tab-button" type="button" data-tab-target="trading">
          Trading
        </button>
        <button class="layout-tab-button" type="button" data-tab-target="registry">
          Registry
        </button>
      </nav>
      <section class="panel hero" data-tab-panel="battle">
        <header class="hero-header">
          <div>
            <h1>DaisyQuest: Ember Duel</h1>
            <p class="subtitle">A refined combat encounter for the next-generation DaisyQuest.</p>
          </div>
          <div class="theme-selector">
            <label for="theme-select">Theme</label>
            <select id="theme-select" aria-label="Select a theme"></select>
          </div>
        </header>
        <div class="npc-selector">
          <label for="npc-select">Choose a challenger</label>
          <select id="npc-select" aria-label="Select a challenger"></select>
          <p class="npc-description" id="npc-description"></p>
        </div>
        <div class="battle-scene" id="battle-scene">
          <div class="battle-scene__parallax" aria-hidden="true">
            <div class="parallax-layer layer-distant"></div>
            <div class="parallax-layer layer-mid"></div>
            <div class="parallax-layer layer-near"></div>
          </div>
          <div class="battle-scene__ambient" id="battle-particles" aria-hidden="true"></div>
          <div class="battle-scene__baseline" aria-hidden="true"></div>
          <div class="caption-zone" id="caption-global" data-zone="global" aria-live="polite"></div>
          <div class="caption-zone" id="caption-player" data-zone="player" aria-live="polite"></div>
          <div class="caption-zone" id="caption-enemy" data-zone="enemy" aria-live="polite"></div>
          <div class="battle-combatant battle-combatant--player" id="battle-player">
            <div class="status-banners" id="player-status-banners"></div>
            <div class="sprite-placeholder battle-sprite" id="player-battle-sprite">
              <span>Hero Sprite</span>
            </div>
            <div class="effect-bounds" data-role="player" aria-hidden="true"></div>
          </div>
          <div class="battle-combatant battle-combatant--enemy" id="battle-enemy">
            <div class="status-banners" id="enemy-status-banners"></div>
            <div class="sprite-placeholder battle-sprite" id="enemy-battle-sprite">
              <span>Enemy Sprite</span>
            </div>
            <div class="effect-bounds" data-role="enemy" aria-hidden="true"></div>
          </div>
        </div>
        <div class="minimap-panel" id="minimap-panel">
          <div class="minimap-panel__header">
            <span>Realm Minimap</span>
            <button class="secondary minimap-toggle" id="minimap-toggle" type="button" aria-pressed="true">
              Hide
            </button>
          </div>
          <canvas id="minimap-canvas" width="180" height="180"></canvas>
          <div class="minimap-legend" id="minimap-legend"></div>
        </div>
        <div class="battlefield">
          <div class="combatant" id="player-card">
            <h2 id="player-name">Hero</h2>
            <div class="sprite-frame">
              <div class="sprite-placeholder" id="player-sprite">
                <span>Hero Sprite</span>
              </div>
            </div>
            <div class="bar">
              <span>Health</span>
              <div class="meter">
                <div class="fill" id="player-health"></div>
              </div>
              <span class="value" id="player-health-value"></span>
            </div>
            <div class="bar">
              <span>Mana</span>
              <div class="meter mana">
                <div class="fill" id="player-mana"></div>
              </div>
              <span class="value" id="player-mana-value"></span>
            </div>
          </div>
          <div class="combatant" id="enemy-card">
            <h2 id="enemy-name">Otherworldly Beast</h2>
            <div class="sprite-frame">
              <div class="sprite-placeholder" id="enemy-sprite">
                <span>Enemy Sprite</span>
              </div>
            </div>
            <div class="bar">
              <span>Health</span>
              <div class="meter">
                <div class="fill" id="enemy-health"></div>
              </div>
              <span class="value" id="enemy-health-value"></span>
            </div>
            <div class="bar" id="enemy-focus-row">
              <span>Focus</span>
              <div class="meter focus">
                <div class="fill" id="enemy-focus"></div>
              </div>
              <span class="value" id="enemy-focus-value"></span>
            </div>
          </div>
        </div>
        <div class="controls">
          <button class="action" data-action="attack">Swift Strike</button>
          <button class="action" data-action="special">Ember Surge</button>
          <button class="action" data-action="heal">Serenity Bloom</button>
          <button class="secondary" id="reset">Reset Battle</button>
        </div>
      </section>
      <section class="panel log tab-panel" data-tab-panel="battle">
        <h3>Battle Chronicle</h3>
        <ul id="log"></ul>
      </section>
      <section class="panel progression" data-tab-panel="battle">
        <header class="panel-header">
          <div>
            <h3>Reward Track</h3>
            <p class="subtitle">Fuel your rise with every victory and crafted upgrade.</p>
          </div>
          <span class="badge badge-accent" id="progress-level-badge">Level 1</span>
        </header>
        <div class="reward-track">
          <div class="track-card">
            <div class="track-header">
              <div>
                <h4>Battle Mastery</h4>
                <p class="caption">Earn XP for victories, crafting, and upgrades.</p>
              </div>
              <span class="badge" id="progress-xp-label">0 XP</span>
            </div>
            <div class="progress-track">
              <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="track-meta">
              <span id="progress-current">0 / 120 XP</span>
              <span id="progress-next">Next reward at Level 2</span>
            </div>
          </div>
          <div class="reward-card" id="reward-card">
            <h4>Next Reward</h4>
            <p id="reward-description">Win a duel to reveal your next blessing.</p>
            <button class="action" id="claim-reward" type="button" disabled>Claim Reward</button>
          </div>
        </div>
        <ul class="milestone-list" id="milestone-list"></ul>
      </section>
      <section class="panel inventory" data-tab-panel="inventory">
        <h3>Inventory & Equipment</h3>
        <div class="inventory-grid">
          <div>
            <h4>Satchel</h4>
            <div id="inventory-list" class="inventory-list"></div>
          </div>
          <div>
            <h4>Equipped</h4>
            <div id="equipment-list" class="equipment-list"></div>
          </div>
        </div>
        <div class="loot-log">
          <h4>Recent Loot</h4>
          <ul id="loot-list"></ul>
        </div>
      </section>
      <section class="panel trading" data-tab-panel="trading">
        <header class="panel-header">
          <div>
            <h3>Trade Hall</h3>
            <p class="subtitle">Open secure, server-driven trades with fellow adventurers.</p>
          </div>
          <span class="badge">Server Authoritative</span>
        </header>
        <form class="trade-form" id="trade-request-form">
          <label for="trade-target">Invite player</label>
          <input id="trade-target" type="text" placeholder="Player name" required />
          <button class="action" type="submit">Send Trade Request</button>
          <p class="form-message" id="trade-request-message"></p>
        </form>
        <div class="trade-grid" id="trade-list"></div>
      </section>
      <section class="panel crafting tab-panel" data-tab-panel="crafting">
        <h3>Crafting Atelier</h3>
        <label for="recipe-select">Recipe</label>
        <select id="recipe-select" aria-label="Select a recipe"></select>
        <p id="recipe-details" class="crafting-details"></p>
        <button class="action" id="craft-button" type="button">Craft</button>
        <p id="crafting-result" class="crafting-result"></p>
      </section>
      <section class="panel registry" data-tab-panel="registry">
        <header class="panel-header">
          <div>
            <h3>Registry Workshop</h3>
            <p class="subtitle">Curate items and recipes without leaving the game.</p>
          </div>
          <div class="registry-tabs">
            <button class="tab-button is-active" type="button" data-tab="items">Items</button>
            <button class="tab-button" type="button" data-tab="recipes">Recipes</button>
          </div>
        </header>
        <div class="registry-pane is-active" data-pane="items">
          <div class="registry-grid">
            <div>
              <div class="registry-toolbar">
                <h4>Item Registry</h4>
                <button class="secondary" type="button" id="new-item">New Item</button>
              </div>
              <div id="item-registry-list" class="registry-list"></div>
            </div>
            <form id="item-editor" class="registry-form">
              <h4 id="item-form-title">Create Item</h4>
              <label for="item-id">Item Id</label>
              <input id="item-id" name="itemId" type="text" required />
              <label for="item-name">Name</label>
              <input id="item-name" name="itemName" type="text" required />
              <label for="item-description">Description</label>
              <textarea id="item-description" name="itemDescription" rows="3" required></textarea>
              <label for="item-rarity">Rarity</label>
              <select id="item-rarity" name="itemRarity" required></select>
              <div class="form-row">
                <label>
                  <input id="item-equippable" type="checkbox" />
                  Equippable
                </label>
                <select id="item-slot" name="itemSlot"></select>
              </div>
              <p class="form-message" id="item-form-message"></p>
              <button class="action" type="submit">Save Item</button>
            </form>
          </div>
        </div>
        <div class="registry-pane" data-pane="recipes">
          <div class="registry-grid">
            <div>
              <div class="registry-toolbar">
                <h4>Recipe Registry</h4>
                <button class="secondary" type="button" id="new-recipe">New Recipe</button>
              </div>
              <div id="recipe-registry-list" class="registry-list"></div>
            </div>
            <form id="recipe-editor" class="registry-form">
              <h4 id="recipe-form-title">Create Recipe</h4>
              <label for="recipe-id">Recipe Id</label>
              <input id="recipe-id" name="recipeId" type="text" required />
              <label for="recipe-name">Name</label>
              <input id="recipe-name" name="recipeName" type="text" required />
              <label for="recipe-result">Result Item</label>
              <select id="recipe-result" name="recipeResult" required></select>
              <div class="ingredients-list" id="ingredients-list"></div>
              <button class="secondary" type="button" id="add-ingredient">Add Ingredient</button>
              <p class="form-message" id="recipe-form-message"></p>
              <button class="action" type="submit">Save Recipe</button>
            </form>
          </div>
        </div>
      </section>
    </main>
    <script type="module" src="app.js"></script>
  </body>
</html>
